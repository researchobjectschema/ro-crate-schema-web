<!DOCTYPE html>
<html>
<style>
    code {
        display: block;
        white-space: pre-wrap
    }
</style>
<h1>RO-Crate schema++</h1>

<h2>Specification</h2>
<p>Same old RO-Crate</p>
<ul>
    <li>+ convention for interoperable schema for metadata</li>
    <li>+ convention for extensible ro-crate-metadata.json</li>
</ul>

<a href="https://github.com/researchobjectschema/ro-crate-interoperability-profile">Interopberability</a>

<a href="https://github.com/researchobjectschema/ro-crate-extensibility-profile">Extensibility</a>

<h2>Libraries</h2>

<ul>
    <li><a class="fa-github" href="https://github.com/researchobjectschema/ro-crate-interoperability-profile">&#xf09b
            Java reference implementation</a></li>
    <li><a class="fa-github" href="https://github.com/researchobjectschema/ro-crate-interoperability-profile">&#xf09b
            Python</a></li>
</ul>


<h2>Use Cases</h2>
<ol>
    <li>
        Exchanging metadata between systems using a common format (RO-Crate) but also a fully defined schema
        (Interoperability Profile)
    </li>
    <li>
        Validation of imported metadata thanks to the well defined schema
    </li>
    <li>Go beyond using the ro-crate-metadata.json to include metadata, to support large exports. (Extensibility
        Profile)
    </li>
</ol>


<h2>Quick Start Guide (Java)</h2>

<p>In this example, we express two SQL tables in RO-Crate. It expresses experiments and each experiment can have a
    creator, who is a person</p>
<p><code>
CREATE TABLE person( -- https://schema.org/Person
    personid VARCHAR(255), 
    givenname VARCHAR(255), -- https://schema.org/givenName
    familyname VARCHAR(255), -- https://schema.org/familyName
    identifier VARCHAR (255), -- https://schema.org/identifier
    PRIMARY KEY(personid)


);

CREATE TABLE experiment(
    experimentid VARCHAR(255), 
    date DATETIME,
    name VARCHAR(255),
    creatorid VARCHAR(255), https://schema.org/creator
    PRIMARY_KEY(experimentid),
    FOREIGN KEY(creatorid) REFERENCES person(personid)
);

INSERT INTO PERSON (person_id, givenname, familyname, identifier) VALUES ('PERSON1', 'Meier', 'Andreas', 'https://orcid.org/0009-0002-6541-4637');
INSERT INTO PERSON (person_id, givenname, familyname, identifier) VALUES ('PERSON2', 'Fuentes', 'Juan', 'https://orcid.org/0009-0002-8209-1999');


INSERT INTO experiment (experimentid, date, name, creatorid) VALUES ('EXPERIMENT1', '2025-09-08 08:41:50', 'Example Experiment', 'Person1');


</code></p>
<p>
    <a href="https://github.com/researchobjectschema/ro-crate-interoperability-profile/blob/main/0.2.x/examples/quickstart/quickstart.sql">SQL example code</a>
    Tables are Types in our nomenclature, e.g. <code>IType personType = new Type()</code>. Columns are PropertyTypes,
    e.g. <code>IPropertyType name = new PropertyType()</code>. Both Types and PropertyTypes can be annotated to specify
    semantics. The rows are represented by IMetaDataEntry, their <code>@type</code> is an IType specifed in
    the crate.
    The above example looks like this. <a
        href="hhttps://github.com/researchobjectschema/ro-crate-interoperability-profile/blob/main/0.2.x/examples/quickstart/Quickstart.java">Source
        of the example</a>
</p>
<code>

import ch.eth.sis.rocrate.SchemaFacade;
import ch.eth.sis.rocrate.facade.*;
import edu.kit.datamanager.ro_crate.writer.FolderWriter;

import java.io.Serializable;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;

public class QuickStart
{

    private static final String PREFIX = "";

    private static final String SEPARATOR = ":";

    public static void main(String[] args)
    {
        /* Setting up an RO-Crate with the schema facade */
        ISchemaFacade schemaFacade =
                new SchemaFacade("name", "description", "2024-12-04T07:53:11Z", "licenceIdentifier",
                        Map.of());

        Type personType = new Type();

        {
            personType.setId(PREFIX + SEPARATOR + "Person");
            personType.setOntologicalAnnotations(List.of("https://schema.org/Person"));

            {
                PropertyType personId = new PropertyType();
                personId.setId(PREFIX + SEPARATOR + "personid");
                personId.setTypes(List.of(LiteralType.STRING));
                personType.addProperty(personId);
            }
            {
                PropertyType givenName = new PropertyType();
                givenName.setId(PREFIX + SEPARATOR + "givenName");
                givenName.setOntologicalAnnotations(List.of("https://schema.org/givenName"));
                givenName.setTypes(List.of(LiteralType.STRING));
                personType.addProperty(givenName);
            }
            {
                PropertyType givenName = new PropertyType();
                givenName.setId(PREFIX + SEPARATOR + "familyName");
                givenName.setOntologicalAnnotations(List.of("https://schema.org/familyName"));
                givenName.setTypes(List.of(LiteralType.STRING));
                personType.addProperty(givenName);
            }
            {
                PropertyType identifier = new PropertyType();
                identifier.setId(PREFIX + SEPARATOR + "identifier");
                identifier.setOntologicalAnnotations(List.of("https://schema.org/identifier"));
                identifier.setTypes(List.of(LiteralType.STRING));
                personType.addProperty(identifier);
            }
            schemaFacade.addType(personType);

        }


        /* Building our Experiment type */
        {
            Type experimentType = new Type();
            experimentType.setId(PREFIX + SEPARATOR + "Experiment");

            {
                PropertyType experimentId = new PropertyType();
                experimentId.setId(PREFIX + SEPARATOR + "experimentid");
                experimentId.setTypes(List.of(LiteralType.STRING));
                experimentType.addProperty(experimentId);
            }
            {
                PropertyType creator = new PropertyType();
                creator.setId(PREFIX + SEPARATOR + "creator");
                creator.setOntologicalAnnotations(List.of("https://schema.org/creator"));
                creator.addType(personType);
                experimentType.addProperty(creator);
            }
            {
                PropertyType name = new PropertyType();
                name.setId(PREFIX + SEPARATOR + "name");
                name.setTypes(List.of(LiteralType.STRING));
                experimentType.addProperty(name);
            }
            {
                PropertyType date = new PropertyType();
                date.setId(PREFIX + SEPARATOR + "date");
                date.setTypes(List.of(LiteralType.DATETIME));
                experimentType.addProperty(date);
            }
            schemaFacade.addType(experimentType);

        }

        {
            MetadataEntry personAndreas = new MetadataEntry();
            personAndreas.setId("PERSON1");
            Map<String, Serializable> properties = new LinkedHashMap<>();
            properties.put("givenname", "Andreas");
            properties.put("lastname", "Meier");
            properties.put("identifier", "https://orcid.org/0009-0002-6541-4637");
            personAndreas.setProps(properties);
            schemaFacade.addEntry(personAndreas);

            MetadataEntry personJuan = new MetadataEntry();
            personAndreas.setId("PERSON2");
            Map<String, Serializable> properties2 = new LinkedHashMap<>();
            properties2.put("givenname", "Andreas");
            properties2.put("lastname", "Meier");
            properties2.put("identifier", "https://orcid.org/0009-0002-6541-4637");
            personAndreas.setProps(properties2);
            schemaFacade.addEntry(personJuan);

            MetadataEntry experiment1 = new MetadataEntry();
            experiment1.setId("EXPERIMENT1");
            experiment1.setReferences(Map.of("creator", List.of(personAndreas.getId())));
            Map<String, Serializable> propertiesExperiment = new LinkedHashMap<>();
            propertiesExperiment.put("name", "Example Experiment");
            propertiesExperiment.put("date", "2025-09-08 08:41:50.000"); // ISO 8601
            experiment1.setProps(propertiesExperiment);
            schemaFacade.addEntry(experiment1);

        }

        FolderWriter folderWriter = new FolderWriter();
        folderWriter.save(schemaFacade.getCrate(), "/tmp/example-crate");

    }

}

</code>


<h2>Quick Start Guide (Python)</h2>



</html>